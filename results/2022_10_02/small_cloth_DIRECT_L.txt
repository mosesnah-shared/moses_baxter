NLOPT DIRECT_L
# Define the right impedance controller
Kq_mat = np.diag( [ 15.0, 15.0, 8.0, 10.0, 3.0, 12.0, 1.5 ]  )
Bq_mat = 0.2 * Kq_mat
lb    = np.array( [ -0.80, 0.20, -0.85, -0.10, 0.20, -0.85, 0.6, 0.6, -0.7 ] )
ub    = np.array( [  0.00, 1.00,  0.85,  0.10, 1.00,  0.85, 1.5, 1.5,  0.7 ] )
n_opt = 9


[Iteration] 1 [parameters] [-0.4 , 0.6 , 0.  , 0.  , 0.6 , 0.  , 1.05, 1.05, 0.  ]                                                                                                                         
[all_vals] [68.49015597,61.56034262,62.70071593]                                                                                                                                                          
[obj] 68.49015597034007                                                                                                                                                                                   
[Iteration] 2 [parameters] [-0.66666667, 0.6       , 0.        , 0.        , 0.6       , 0.        , 1.05      , 1.05      , 0.        ]                                                                   
[all_vals] [69.49245717,91.15443621,82.82856047]                                                                                                                                                          
[obj] 91.15443620557402                                                                                                                                                                                   
[Iteration] 3 [parameters] [-0.13333333, 0.6       , 0.        , 0.        , 0.6       , 0.        , 1.05      , 1.05      , 0.        ]                                                                   
[all_vals] [0.,0.,0.]                                                                                                                                                                                     
[obj] 0.0                                                                                                                                                                                                 
[Iteration] 4 [parameters] [-0.4       , 0.33333333, 0.        , 0.        , 0.6       , 0.        , 1.05      , 1.05      , 0.        ]                                                                   
[all_vals] [60.97609307,67.35425722,62.75824597]                                                                                                                                                          
[obj] 67.35425722321658                                                                                                                                                                                   
[Iteration] 5 [parameters] [-0.4       , 0.86666667, 0.        , 0.        , 0.6       , 0.        , 1.05      , 1.05      , 0.        ]                                                                   
[all_vals] [39.01815392,38.58028637,44.03733061]                                                                                                                                                          
[obj] 44.03733060598313                                                                                                                                                                                   
[Iteration] 6 [parameters] [-0.4       , 0.6       ,-0.56666667, 0.        , 0.6       , 0.        , 1.05      , 1.05      , 0.        ]                                                                   
[all_vals] [67.59907952,70.89491179,59.00664792]                                                                                                                                                          
[obj] 70.89491178726668                                                                                                                                                                                   
[Iteration] 7 [parameters] [-0.4       , 0.6       , 0.56666667, 0.        , 0.6       , 0.        , 1.05      , 1.05      , 0.        ]                                                                   
[all_vals] [57.03528509,56.32702634,56.65047302]                                                                                                                                                          
[obj] 57.035285093326515  
[Iteration] 8 [parameters] [-0.4       , 0.6       , 0.        ,-0.06666667, 0.6       , 0.        , 1.05      , 1.05      , 0.        ]
[all_vals] [59.7212989 ,61.04257223,63.2740987 ]
[obj] 63.27409869598568
[Iteration] 9 [parameters] [-0.4       , 0.6       , 0.        , 0.06666667, 0.6       , 0.        , 1.05      , 1.05      , 0.        ]
[all_vals] [61.38327793,58.97660445,59.36013807]
[obj] 61.38327793403222
[Iteration] 10 [parameters] [-0.4       , 0.6       , 0.        , 0.        , 0.33333333, 0.        , 1.05      , 1.05      , 0.        ]
[all_vals] [67.95129123,66.73101509,66.36410125]
[obj] 67.95129122986448
[Iteration] 11 [parameters] [-0.4       , 0.6       , 0.        , 0.        , 0.86666667, 0.        , 1.05      , 1.05      , 0.        ]
[all_vals] [42.99156226,50.62132447,40.3208898 ]
[obj] 50.62132446944515
[Iteration] 12 [parameters] [-0.4       , 0.6       , 0.        , 0.        , 0.6       ,-0.56666667, 1.05      , 1.05      , 0.        ]
[all_vals] [64.57363846,66.29634365,68.02863718]
[obj] 68.02863717719254
[Iteration] 13 [parameters] [-0.4       , 0.6       , 0.        , 0.        , 0.6       , 0.56666667, 1.05      , 1.05      , 0.        ]
[all_vals] [32.21490667,37.38813603,33.817438  ]
[obj] 37.38813602659166
[Iteration] 14 [parameters] [-0.4 , 0.6 , 0.  , 0.  , 0.6 , 0.  , 0.75, 1.05, 0.  ]
[all_vals] [49.24060343,52.8125799 ,50.20135515]
[obj] 52.81257990283815
[Iteration] 15 [parameters] [-0.4 , 0.6 , 0.  , 0.  , 0.6 , 0.  , 1.35, 1.05, 0.  ]
[all_vals] [65.15724879,60.79135771,64.40744055]
[obj] 65.15724878547687
[Iteration] 16 [parameters] [-0.4 , 0.6 , 0.  , 0.  , 0.6 , 0.  , 1.05, 0.75, 0.  ]
[all_vals] [47.94362056,54.17284582,55.81820506]
[obj] 55.81820506264382
[Iteration] 17 [parameters] [-0.4 , 0.6 , 0.  , 0.  , 0.6 , 0.  , 1.05, 1.35, 0.  ]
[all_vals] [66.85566351,62.35553567,63.82766556]
[obj] 66.85566351316798
[Iteration] 18 [parameters] [-0.4       , 0.6       , 0.        , 0.        , 0.6       , 0.        , 1.05      , 1.05      ,-0.46666667]                                                                  
[all_vals] [0.,0.,0.]                                                                                                                                                                                     
[obj] 0.0                                                                                                                                                                                                 
[Iteration] 19 [parameters] [-0.4       , 0.6       , 0.        , 0.        , 0.6       , 0.        , 1.05      , 1.05      , 0.46666667]                                                                  
[all_vals] [70.05880849,66.42227052,71.21580159]                                                                                                                                                          
[obj] 71.2158015852723                                                                                                                                                                                    
[Iteration] 20 [parameters] [-0.66666667, 0.33333333, 0.        , 0.        , 0.6       , 0.        , 1.05      , 1.05      , 0.        ]                                                                  
[all_vals] [71.35579136,39.54167732,54.84978266]                                                                                                                                                          
[obj] 71.35579135770904                                                                                                                                                                                   
[Iteration] 21 [parameters] [-0.66666667, 0.86666667, 0.        , 0.        , 0.6       , 0.        , 1.05      , 1.05      , 0.        ]                                                                  
[all_vals] [78.74776272,80.06328305,81.30721043]                                                                                                                                                          
[obj] 81.30721043211454                                                                                                                                                                                   
[Iteration] 22 [parameters] [-0.66666667, 0.6       ,-0.56666667, 0.        , 0.6       , 0.        , 1.05      , 1.05      , 0.        ]                                                                  
[all_vals] [73.89286627,75.444899  ,68.17501918]                                                                                                                                                          
[obj] 75.44489900281258                                                                                                                                                                                   
[Iteration] 23 [parameters] [-0.66666667, 0.6       , 0.56666667, 0.        , 0.6       , 0.        , 1.05      , 1.05      , 0.        ]                                                                  
[all_vals] [ 73.56238814,100.        , 90.83802097]
[obj] 100.0



pars_arr = [-0.4 , 0.6 , 0.  , 0.  , 0.6 , 0.  , 1.05, 1.05, 0. ;
            -0.66666667, 0.6       , 0.        , 0.        , 0.6       , 0.        , 1.05      , 1.05      , 0. ;
            -0.13333333, 0.6       , 0.        , 0.        , 0.6       , 0.        , 1.05      , 1.05      , 0. ;
            -0.4       , 0.33333333, 0.        , 0.        , 0.6       , 0.        , 1.05      , 1.05      , 0. ;
            -0.4       , 0.86666667, 0.        , 0.        , 0.6       , 0.        , 1.05      , 1.05      , 0. ;
            -0.4       , 0.6       ,-0.56666667, 0.        , 0.6       , 0.        , 1.05      , 1.05      , 0. ;
            -0.4       , 0.6       , 0.56666667, 0.        , 0.6       , 0.        , 1.05      , 1.05      , 0. ;
            -0.4       , 0.6       , 0.        ,-0.06666667, 0.6       , 0.        , 1.05      , 1.05      , 0. ;
            -0.4       , 0.6       , 0.        , 0.06666667, 0.6       , 0.        , 1.05      , 1.05      , 0. ;
            -0.4       , 0.6       , 0.        , 0.        , 0.33333333, 0.        , 1.05      , 1.05      , 0. ;
            -0.4       , 0.6       , 0.        , 0.        , 0.86666667, 0.        , 1.05      , 1.05      , 0. ;
            -0.4       , 0.6       , 0.        , 0.        , 0.6       ,-0.56666667, 1.05      , 1.05      , 0. ;   
            -0.4       , 0.6       , 0.        , 0.        , 0.6       , 0.56666667, 1.05      , 1.05      , 0. ;
            -0.4 , 0.6 , 0.  , 0.  , 0.6 , 0.  , 0.75, 1.05, 0.  ;
            -0.4 , 0.6 , 0.  , 0.  , 0.6 , 0.  , 1.35, 1.05, 0.  ;
            -0.4 , 0.6 , 0.  , 0.  , 0.6 , 0.  , 1.05, 0.75, 0.  ;
            -0.4 , 0.6 , 0.  , 0.  , 0.6 , 0.  , 1.05, 1.35, 0.  ;
            -0.4       , 0.6       , 0.        , 0.        , 0.6       , 0.        , 1.05      , 1.05      ,-0.46666667 ;
            -0.4       , 0.6       , 0.        , 0.        , 0.6       , 0.        , 1.05      , 1.05      , 0.46666667 ;
            -0.66666667, 0.33333333, 0.        , 0.        , 0.6       , 0.        , 1.05      , 1.05      , 0.         ;
            -0.66666667, 0.86666667, 0.        , 0.        , 0.6       , 0.        , 1.05      , 1.05      , 0.         ;
            -0.66666667, 0.6       ,-0.56666667, 0.        , 0.6       , 0.        , 1.05      , 1.05      , 0.         ;
            -0.66666667, 0.6       , 0.56666667, 0.        , 0.6       , 0.        , 1.05      , 1.05      , 0.        ]
        
data_arr  = [68.49015597,61.56034262,62.70071593 ;
             69.49245717,91.15443621,82.82856047 ;
                      0.,         0.,          0.;
             60.97609307,67.35425722,62.75824597;
             39.01815392,38.58028637,44.03733061;
             67.59907952,70.89491179,59.00664792;
             57.03528509,56.32702634,56.65047302;
             59.7212989 ,61.04257223,63.2740987 ;
             61.38327793,58.97660445,59.36013807;
             67.95129123,66.73101509,66.36410125;
             42.99156226,50.62132447,40.3208898 ;       
             64.57363846,66.29634365,68.02863718;   
             32.21490667,37.38813603,33.817438  ;       
             49.24060343,52.8125799 ,50.20135515;       
             65.15724879,60.79135771,64.40744055;       
             47.94362056,54.17284582,55.81820506;       
             66.85566351,62.35553567,63.82766556;       
             70.05880849,66.42227052,71.21580159;
             71.35579136,39.54167732,54.84978266;   
             78.74776272,80.06328305,81.30721043;
             73.89286627,75.444899  ,68.17501918;
             73.56238814,100.        , 90.83802097];

